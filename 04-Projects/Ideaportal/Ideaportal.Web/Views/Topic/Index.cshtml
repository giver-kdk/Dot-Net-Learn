@model Application.ViewModels.TopicViewModel

@{
    Layout = "";
}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idea Topics</title>
    <link rel="stylesheet" href="~/css/topics.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <script src="{%static 'script.js' %}" type="module"></script> -->
    <style>
        .greeting {
        color: #0c6a6fcd;
        font-weight: bold;
        }
    </style>
    <script>
        function redirectToTopic(topicId) {
        window.location.href = `/topics/${topicId}/`;
        }
    </script>
</head>
<body>
    <header class="header flex items-center bg-gray-100 p-4 shadow-md">
        <img src="images/spiral_logo.png" class="w-12 h-12 mr-4" alt="Spiralogics Logo" />
        <div>
            <div class="logo text-xl font-semibold text-gray-800">Spiralogics Ideaportal</div>
        </div>

        <!-- User Greeting & Logout Form -->
        <div class="ml-auto flex items-center space-x-4">
            <div class="ml-auto flex items-center space-x-4">
                <span class="greeting">Welcome, @(User.Identity.Name)</span>
                <form action="@Url.Action("Logout", "Account")" method="post" class="flex items-center space-x-2">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="bg-red-500 text-white py-1 px-3 mt-4 rounded-full hover:bg-red-600 transition duration-300">Log Out</button>
                </form>
            </div>


        </div>
    </header>

    <main>
        <section id="topic-display">
            <div class="stories-container" id="stories-container">
                @foreach (var topic in Model.Topics)
                {
                    <div class="story-item" onclick="redirectToTopic(@topic.Id)">

                        <div class="topic-preview" style="background: linear-gradient(45deg,@topic.Gradient[0],@topic.Gradient[1]);">
                            @topic.Title
                        </div>
                        <div class="story-content">
                            <div class="story-title">@topic.Title</div>

                            <div class="topic-content">@topic.Description</div>
                            <div class="story-ideas-count"><strong>@topic.IdeasCount ideas</strong></div>
                        </div>
                    </div>
                }
            </div>



        </section>
    </main>
</body>
</html>

